!function(){let e=function e(){let t=document.cookie.split(";");for(let r=0;r<t.length;r++){let s=t[r].trim();if(s.startsWith("auth_token="))return s.substring(11,s.length)}return null}(),{courseSlug:t,lessonId:r}=function e(){let t=new URL(window.location.href);"server.wized.com"==t.host&&(t=new URL(t.searchParams.get("url")));let r=t.hash?t.hash.substring(1):t.searchParams.get("lesson_identifier"),s=r.split(t.hash?"+":" ");return{courseSlug:s[0],lessonId:s[1]}}(),s=`https://www.adconversion-dev.com/api:JJmw0c4k/course/lesson/details/video?course_slug=${encodeURIComponent(t)}&lesson_id=${encodeURIComponent(r)}`;async function o(){try{let t=await fetch(s,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw Error("Network response was not ok");let r=await t.json();"loading"==document.readyState?document.addEventListener("DOMContentLoaded",()=>{n(r)}):n(r),n(r)}catch(o){console.error("lessonVideoLoader.js | Error fetching data:",o)}}function n(e){let t=document.getElementById("vimeo-player"),r=document.querySelector('[wized="lesson_loader_video"]'),s=e.url;t.src=s;let o=new Vimeo.Player(t);o.on("loaded",()=>{r.classList.add("is-hidden"),e.progress.length&&100!=e.progress[0].progress&&o.setCurrentTime(e.progress[0].watched_till/1e3),"true"==localStorage.getItem("autoplay")&&o.play()})}o()}();
