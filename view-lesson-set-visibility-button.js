const courseDetails=JSON.parse(localStorage.getItem("course_details"));function waitForWizedPath(e){"undefined"!=typeof Wized&&Wized.data&&Wized.data.n&&Wized.data.n.path?(console.log("Wized path:",Wized.data.n.path),e(Wized.data.n.path)):(console.log("Wized not defined yet, retrying..."),setTimeout(()=>waitForWizedPath(e),100))}function checkCourseEnrollment(e){let o=e.split("/").pop();if(console.log("URL Slug derived:",o),courseDetails&&0!==courseDetails.length){let l=!1;for(let r of courseDetails)if(console.log("Checking course:",r.webflow_cms_slug,"against slug:",o),r.webflow_cms_slug===o){console.log("Match found:",r),l=!0,updateCourseVisibility(r,window.location.origin.includes("server.wized.com"));break}l||(console.log("No matching course found."),document.querySelectorAll('[wized="course_enrolled_false"]').forEach(e=>e.classList.remove("hidden")),document.querySelectorAll('[wized="course_enrolled_true"]').forEach(e=>e.classList.add("hidden")))}else console.log("No course details found or empty array."),document.querySelectorAll('[wized="course_enrolled_false"]').forEach(e=>e.classList.remove("hidden")),document.querySelectorAll('[wized="course_enrolled_true"]').forEach(e=>e.classList.add("hidden"))}function updateCourseVisibility(e,o){document.querySelectorAll('[wized="course_enrolled_true"]').forEach(e=>{console.log("Showing enrolled elements"),e.classList.remove("hidden")}),document.querySelectorAll('[wized="course_enrolled_false"]').forEach(e=>{console.log("Hiding not enrolled elements"),e.classList.add("hidden")});let l=parseInt(e.progress.replace("%",""),10),r=document.querySelectorAll(l<100?'[wized="course_startLesson_trigger_2"]':'[wized="course_startLesson_trigger_3"]');r.forEach(r=>{r.classList.remove("hidden"),o?r.href=`/v2/page/proxy?url=https://adconversion-academy-wized.webflow.io/lesson?lesson_identifier=${e.slug}+${e.last_played_lesson_id}`:r.href=`${window.location.origin}/lesson#${e.slug}+${e.last_played_lesson_id}`;let s=r.querySelector('[wized="courses_progress"]');s&&(s.textContent=`Current Progress - ${e.progress}${100===l?" (Completed)":""}`)}),document.querySelectorAll('[wized="course_startLesson_lastPlayed"]').forEach(o=>{o.textContent=`Last Viewed - ${e.module_and_lesson_number}`})}window.location.origin.includes("server.wized.com")?waitForWizedPath(checkCourseEnrollment):checkCourseEnrollment(window.location.pathname);
